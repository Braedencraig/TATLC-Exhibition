{"ast":null,"code":"var _jsxFileName = \"/Users/bcraig/Desktop/test/src/pages/SelfGuided.js\";\nimport React from \"react\";\nimport * as PANOLENS from \"panolens\";\nimport * as THREE from \"three\";\nimport ReactHowler from \"react-howler\";\nimport one from \"../assets/spheres/one.jpg\";\nimport two from \"../assets/spheres/two.jpg\";\nimport three from \"../assets/spheres/three.jpg\";\nimport four from \"../assets/spheres/four.jpg\";\nimport five from \"../assets/spheres/five.jpg\";\nimport six from \"../assets/spheres/six.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SelfGuided() {\n  let panorama1, panorama2, panorama3, panorama4, panorama5, panorama6, viewer;\n  panorama1 = new PANOLENS.ImagePanorama(one);\n  panorama2 = new PANOLENS.ImagePanorama(two);\n  panorama3 = new PANOLENS.ImagePanorama(three);\n  panorama4 = new PANOLENS.ImagePanorama(four);\n  panorama5 = new PANOLENS.ImagePanorama(five);\n  panorama6 = new PANOLENS.ImagePanorama(six);\n  panorama1.link(panorama2, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama2.link(panorama3, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama3.link(panorama4, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama4.link(panorama5, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama5.link(panorama6, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama6.link(panorama1, new THREE.Vector3(-807.5, 604.88, -5000.0)); // const boxWidth = 100;\n  // const boxHeight = 100;\n  // const boxDepth = 100;\n  // const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);\n  // const loader = new THREE.TextureLoader();\n  // const material = new THREE.MeshBasicMaterial({\n  //   map: loader.load(\n  //     \"https://threejsfundamentals.org/threejs/resources/images/wall.jpg\"\n  //   ),\n  // });\n  // const cube = new THREE.Mesh(geometry, material);\n  // cube.position.set(-300, 100, 100);\n  // panorama1.add(cube);\n  // viewer.addUpdateCallback(function () {\n  //   cube.rotation.y += 0.05;\n  //   cube.rotation.x += 0.02;\n  // });\n\n  var copyVideo = false;\n\n  function setupVideo(url) {\n    const video = document.createElement(\"video\");\n    var playing = false;\n    var timeupdate = false;\n    video.autoplay = true;\n    video.muted = true;\n    video.loop = true; // Waiting for these 2 events ensures\n    // there is data in the video\n\n    video.addEventListener(\"playing\", function () {\n      playing = true;\n      checkReady();\n    }, true);\n    video.addEventListener(\"timeupdate\", function () {\n      timeupdate = true;\n      checkReady();\n    }, true);\n    video.src = url;\n    video.play();\n\n    function checkReady() {\n      if (playing && timeupdate) {\n        copyVideo = true;\n      }\n    }\n\n    return video;\n  }\n\n  function initTexture(gl) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture); // Because video has to be download over the internet\n    // they might take a moment until it's ready so\n    // put a single pixel in the texture so we can\n    // use it immediately.\n\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([0, 0, 255, 255]); // opaque blue\n\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, pixel); // Turn off mips and set  wrapping to clamp to edge so it\n    // will work regardless of the dimensions of the video.\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    return texture;\n  }\n\n  function updateTexture(gl, texture, video) {\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, video);\n  }\n\n  const texture = initTexture(gl);\n  const video = setupVideo(\"Firefox.mp4\");\n  var then = 0; // Draw the scene repeatedly\n\n  function render(now) {\n    now *= 0.001; // convert to seconds\n\n    const deltaTime = now - then;\n    then = now;\n\n    if (copyVideo) {\n      updateTexture(gl, texture, video);\n    }\n\n    drawScene(gl, programInfo, buffers, texture, deltaTime);\n    requestAnimationFrame(render);\n  }\n\n  requestAnimationFrame(render);\n  viewer = new PANOLENS.Viewer({\n    autoHideInfospot: false\n  });\n  viewer.add(panorama1, panorama2, panorama3, panorama4, panorama5, panorama6);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ReactHowler, {\n      src: \"https://memorypearl.s3.us-east-2.amazonaws.com/269570__vonora__cuckoo-the-nightingale-duet.mp3\",\n      playing: true,\n      loop: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c = SelfGuided;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelfGuided\");","map":{"version":3,"sources":["/Users/bcraig/Desktop/test/src/pages/SelfGuided.js"],"names":["React","PANOLENS","THREE","ReactHowler","one","two","three","four","five","six","SelfGuided","panorama1","panorama2","panorama3","panorama4","panorama5","panorama6","viewer","ImagePanorama","link","Vector3","copyVideo","setupVideo","url","video","document","createElement","playing","timeupdate","autoplay","muted","loop","addEventListener","checkReady","src","play","initTexture","gl","texture","createTexture","bindTexture","TEXTURE_2D","level","internalFormat","RGBA","width","height","border","srcFormat","srcType","UNSIGNED_BYTE","pixel","Uint8Array","texImage2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","updateTexture","then","render","now","deltaTime","drawScene","programInfo","buffers","requestAnimationFrame","Viewer","autoHideInfospot","add"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as PANOLENS from \"panolens\";\nimport * as THREE from \"three\";\nimport ReactHowler from \"react-howler\";\nimport one from \"../assets/spheres/one.jpg\";\nimport two from \"../assets/spheres/two.jpg\";\nimport three from \"../assets/spheres/three.jpg\";\nimport four from \"../assets/spheres/four.jpg\";\nimport five from \"../assets/spheres/five.jpg\";\nimport six from \"../assets/spheres/six.jpg\";\n\nexport default function SelfGuided() {\n  let panorama1, panorama2, panorama3, panorama4, panorama5, panorama6, viewer;\n  panorama1 = new PANOLENS.ImagePanorama(one);\n  panorama2 = new PANOLENS.ImagePanorama(two);\n  panorama3 = new PANOLENS.ImagePanorama(three);\n  panorama4 = new PANOLENS.ImagePanorama(four);\n  panorama5 = new PANOLENS.ImagePanorama(five);\n  panorama6 = new PANOLENS.ImagePanorama(six);\n  panorama1.link(panorama2, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama2.link(panorama3, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama3.link(panorama4, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama4.link(panorama5, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama5.link(panorama6, new THREE.Vector3(-807.5, 604.88, -5000.0));\n  panorama6.link(panorama1, new THREE.Vector3(-807.5, 604.88, -5000.0));\n\n  // const boxWidth = 100;\n  // const boxHeight = 100;\n  // const boxDepth = 100;\n  // const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);\n  // const loader = new THREE.TextureLoader();\n  // const material = new THREE.MeshBasicMaterial({\n  //   map: loader.load(\n  //     \"https://threejsfundamentals.org/threejs/resources/images/wall.jpg\"\n  //   ),\n  // });\n  // const cube = new THREE.Mesh(geometry, material);\n  // cube.position.set(-300, 100, 100);\n  // panorama1.add(cube);\n\n  // viewer.addUpdateCallback(function () {\n  //   cube.rotation.y += 0.05;\n  //   cube.rotation.x += 0.02;\n  // });\n\n  var copyVideo = false;\n\n  function setupVideo(url) {\n    const video = document.createElement(\"video\");\n\n    var playing = false;\n    var timeupdate = false;\n\n    video.autoplay = true;\n    video.muted = true;\n    video.loop = true;\n\n    // Waiting for these 2 events ensures\n    // there is data in the video\n\n    video.addEventListener(\n      \"playing\",\n      function () {\n        playing = true;\n        checkReady();\n      },\n      true\n    );\n\n    video.addEventListener(\n      \"timeupdate\",\n      function () {\n        timeupdate = true;\n        checkReady();\n      },\n      true\n    );\n\n    video.src = url;\n    video.play();\n\n    function checkReady() {\n      if (playing && timeupdate) {\n        copyVideo = true;\n      }\n    }\n\n    return video;\n  }\n\n  function initTexture(gl) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Because video has to be download over the internet\n    // they might take a moment until it's ready so\n    // put a single pixel in the texture so we can\n    // use it immediately.\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([0, 0, 255, 255]); // opaque blue\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      level,\n      internalFormat,\n      width,\n      height,\n      border,\n      srcFormat,\n      srcType,\n      pixel\n    );\n\n    // Turn off mips and set  wrapping to clamp to edge so it\n    // will work regardless of the dimensions of the video.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n    return texture;\n  }\n\n  function updateTexture(gl, texture, video) {\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      level,\n      internalFormat,\n      srcFormat,\n      srcType,\n      video\n    );\n  }\n\n  const texture = initTexture(gl);\n\n  const video = setupVideo(\"Firefox.mp4\");\n\n  var then = 0;\n\n  // Draw the scene repeatedly\n  function render(now) {\n    now *= 0.001; // convert to seconds\n    const deltaTime = now - then;\n    then = now;\n\n    if (copyVideo) {\n      updateTexture(gl, texture, video);\n    }\n\n    drawScene(gl, programInfo, buffers, texture, deltaTime);\n\n    requestAnimationFrame(render);\n  }\n  requestAnimationFrame(render);\n\n  viewer = new PANOLENS.Viewer({ autoHideInfospot: false });\n  viewer.add(panorama1, panorama2, panorama3, panorama4, panorama5, panorama6);\n\n  return (\n    <>\n      <ReactHowler\n        src=\"https://memorypearl.s3.us-east-2.amazonaws.com/269570__vonora__cuckoo-the-nightingale-duet.mp3\"\n        playing={true}\n        loop={true}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}