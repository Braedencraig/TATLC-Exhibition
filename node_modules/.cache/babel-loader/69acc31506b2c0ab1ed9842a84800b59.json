{"ast":null,"code":"/**\n * @author mrdoob / http://mrdoob.com/\n */\nfunction LoadingManager(onLoad, onProgress, onError) {\n  var scope = this;\n  var isLoading = false;\n  var itemsLoaded = 0;\n  var itemsTotal = 0;\n  var urlModifier = undefined; // Refer to #5689 for the reason why we don't set .onStart\n  // in the constructor\n\n  this.onStart = undefined;\n  this.onLoad = onLoad;\n  this.onProgress = onProgress;\n  this.onError = onError;\n\n  this.itemStart = function (url) {\n    itemsTotal++;\n\n    if (isLoading === false) {\n      if (scope.onStart !== undefined) {\n        scope.onStart(url, itemsLoaded, itemsTotal);\n      }\n    }\n\n    isLoading = true;\n  };\n\n  this.itemEnd = function (url) {\n    itemsLoaded++;\n\n    if (scope.onProgress !== undefined) {\n      scope.onProgress(url, itemsLoaded, itemsTotal);\n    }\n\n    if (itemsLoaded === itemsTotal) {\n      isLoading = false;\n\n      if (scope.onLoad !== undefined) {\n        scope.onLoad();\n      }\n    }\n  };\n\n  this.itemError = function (url) {\n    if (scope.onError !== undefined) {\n      scope.onError(url);\n    }\n  };\n\n  this.resolveURL = function (url) {\n    if (urlModifier) {\n      return urlModifier(url);\n    }\n\n    return url;\n  };\n\n  this.setURLModifier = function (transform) {\n    urlModifier = transform;\n    return this;\n  };\n}\n\nvar DefaultLoadingManager = new LoadingManager();\nexport { DefaultLoadingManager, LoadingManager };","map":{"version":3,"sources":["/Users/bcraig/Desktop/test/node_modules/three/src/loaders/LoadingManager.js"],"names":["LoadingManager","onLoad","onProgress","onError","scope","isLoading","itemsLoaded","itemsTotal","urlModifier","undefined","onStart","itemStart","url","itemEnd","itemError","resolveURL","setURLModifier","transform","DefaultLoadingManager"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,cAAT,CAAyBC,MAAzB,EAAiCC,UAAjC,EAA6CC,OAA7C,EAAuD;AAEtD,MAAIC,KAAK,GAAG,IAAZ;AAEA,MAAIC,SAAS,GAAG,KAAhB;AACA,MAAIC,WAAW,GAAG,CAAlB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,WAAW,GAAGC,SAAlB,CAPsD,CAStD;AACA;;AAEA,OAAKC,OAAL,GAAeD,SAAf;AACA,OAAKR,MAAL,GAAcA,MAAd;AACA,OAAKC,UAAL,GAAkBA,UAAlB;AACA,OAAKC,OAAL,GAAeA,OAAf;;AAEA,OAAKQ,SAAL,GAAiB,UAAWC,GAAX,EAAiB;AAEjCL,IAAAA,UAAU;;AAEV,QAAKF,SAAS,KAAK,KAAnB,EAA2B;AAE1B,UAAKD,KAAK,CAACM,OAAN,KAAkBD,SAAvB,EAAmC;AAElCL,QAAAA,KAAK,CAACM,OAAN,CAAeE,GAAf,EAAoBN,WAApB,EAAiCC,UAAjC;AAEA;AAED;;AAEDF,IAAAA,SAAS,GAAG,IAAZ;AAEA,GAhBD;;AAkBA,OAAKQ,OAAL,GAAe,UAAWD,GAAX,EAAiB;AAE/BN,IAAAA,WAAW;;AAEX,QAAKF,KAAK,CAACF,UAAN,KAAqBO,SAA1B,EAAsC;AAErCL,MAAAA,KAAK,CAACF,UAAN,CAAkBU,GAAlB,EAAuBN,WAAvB,EAAoCC,UAApC;AAEA;;AAED,QAAKD,WAAW,KAAKC,UAArB,EAAkC;AAEjCF,MAAAA,SAAS,GAAG,KAAZ;;AAEA,UAAKD,KAAK,CAACH,MAAN,KAAiBQ,SAAtB,EAAkC;AAEjCL,QAAAA,KAAK,CAACH,MAAN;AAEA;AAED;AAED,GAtBD;;AAwBA,OAAKa,SAAL,GAAiB,UAAWF,GAAX,EAAiB;AAEjC,QAAKR,KAAK,CAACD,OAAN,KAAkBM,SAAvB,EAAmC;AAElCL,MAAAA,KAAK,CAACD,OAAN,CAAeS,GAAf;AAEA;AAED,GARD;;AAUA,OAAKG,UAAL,GAAkB,UAAWH,GAAX,EAAiB;AAElC,QAAKJ,WAAL,EAAmB;AAElB,aAAOA,WAAW,CAAEI,GAAF,CAAlB;AAEA;;AAED,WAAOA,GAAP;AAEA,GAVD;;AAYA,OAAKI,cAAL,GAAsB,UAAWC,SAAX,EAAuB;AAE5CT,IAAAA,WAAW,GAAGS,SAAd;AACA,WAAO,IAAP;AAEA,GALD;AAOA;;AAED,IAAIC,qBAAqB,GAAG,IAAIlB,cAAJ,EAA5B;AAGA,SAASkB,qBAAT,EAAgClB,cAAhC","sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\t\treturn this;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n\nexport { DefaultLoadingManager, LoadingManager };\n"]},"metadata":{},"sourceType":"module"}